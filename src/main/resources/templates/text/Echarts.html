<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
    <script src="https://cdn.bootcss.com/echarts/4.6.0/echarts.min.js"></script>
</head>
<body>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<div id="main" style="width: 600px;height:400px;"></div>

<script type="text/javascript">

    var myChart = echarts.init(document.getElementById('main'));
    // 显示标题，图例和空的坐标轴
    myChart.setOption({
        title: {text: '异步数据加载示例'},
        tooltip: {},
        legend: {data: ['销量']},
        xAxis: {data: []},
        yAxis: {},
        series: [{name: '销量', type: 'bar', data: []}]
    });
    $.getJSON('../data.json').done(function (data) {
        var obj =$.parseJSON(data);
            myChart.setOption({        //加载数据图表
                xAxis: {data: obj.a},
                series: [{
                    // 根据名字对应到相应的系列
                    name: '销量', data: obj.b
                }]
            });
    });
    // $.ajax({
    //     type: "post",
    //     async: false,
    //     cache: false,//异步请求（同步请求将会锁住浏览器，用户其他操作必须等待请求完成才可以执行）
    //     url: "TestServlet",    //请求发送到TestServlet处
    //     dataType: "json",        //返回数据形式为json
    //     success: function (data) {
    //         myChart.setOption({        //加载数据图表
    //             xAxis: {
    //                 data: data.a
    //             },
    //             series: [{
    //                 // 根据名字对应到相应的系列
    //                 name: '销量',
    //                 data: data.b
    //             }]
    //         });
    //     },
    //     error: function (errorMsg) {
    //         //请求失败时执行该函数
    //         alert("图表请求数据失败!");
    //         myChart.hideLoading();
    //     }
    // })


    //
    // var myChart = echarts.init(document.getElementById('main'));
    // // 显示标题，图例和空的坐标轴
    // myChart.setOption({
    //     title: {
    //         text: '异步数据加载示例'
    //     },
    //     tooltip: {},
    //     legend: {
    //         data:['销量']
    //     },
    //     xAxis: {
    //         data: []
    //     },
    //     yAxis: {},
    //     series: [{
    //         name: '销量',
    //         type: 'bar',
    //         data: []
    //     }]
    // });

    // myChart.showLoading();    //数据加载完之前先显示一段简单的loading动画
    //
    // var names=[];    //类别数组（实际用来盛放X轴坐标值）
    // var nums=[];    //销量数组（实际用来盛放Y坐标值）
    //
    // $.ajax({
    //     type : "post",
    //     async : true,            //异步请求（同步请求将会锁住浏览器，用户其他操作必须等待请求完成才可以执行）
    //     url : "TestServlet",    //请求发送到TestServlet处
    //     data : {},
    //     dataType : "json",        //返回数据形式为json
    //     success : function(result) {
    //         //请求成功时执行该函数内容，result即为服务器返回的json对象
    //         if (result) {
    //             myChart.hideLoading();    //隐藏加载动画
    //             myChart.setOption({        //加载数据图表
    //                 xAxis: {
    //                     data: names
    //                 },
    //                 series: [{
    //                     // 根据名字对应到相应的系列
    //                     name: '销量',
    //                     data: nums
    //                 }]
    //             });
    //
    //         }
    //
    //     },
    //     error : function(errorMsg) {
    //         //请求失败时执行该函数
    //         alert("图表请求数据失败!");
    //         myChart.hideLoading();
    //     }
    // })

</script>

</body>
</html>
<!--<div align="center">-->
<!--    <label for="start">开始日期：</label><input id="start" type="date" value="2018-08-13"/>-->
<!--    <label for="end">结束日期：</label><input id="end" type="date" value="2018-08-16"/>-->
<!--    <button onclick="getData()">查询</button>-->
<!--</div>-->
<!--<hr>-->
<!--&lt;!&ndash; 为ECharts准备一个具备大小（宽高）的DOM容器&ndash;&gt;-->
<!--<div id='main' style='width: 90%;height:400px;' align="center"></div>-->
<!--<script>-->
<!--    //将集合中的数据保留两位小数-->
<!--    function dataToFixed(data) {-->
<!--        var seriesData = [];-->
<!--        for (var i = 0; i < data.seriesSaleList.length; i++) {-->
<!--            //将销量保留两位小数-->
<!--            var temp = data.seriesSaleList[i].toFixed(2);-->
<!--            seriesData.push(temp);-->
<!--        }-->
<!--        return seriesData;-->
<!--    }-->
<!--    //生成图标的方法-->
<!--    function generateChart(data) {-->
<!--        //基于准备好的DOM，初始化echarts实例-->
<!--        var myChart = echarts.init(document.getElementById('main'));-->
<!--        //指定图表的配置项和数据-->
<!--        myChart.clear();-->
<!--        var option = {-->
<!--            title: {-->
<!--                text: '销售额曲线图'-->
<!--            },-->
<!--            //提示框组件-->
<!--            tooltip: {-->
<!--                //坐标轴触发，主要用于柱状图，折线图等-->
<!--                trigger: 'axis'-->
<!--            },-->
<!--            //数据全部显示-->
<!--            axisLabel: {-->
<!--                interval: 0-->
<!--            },-->
<!--            //图例-->
<!--            legend: {-->
<!--                data: ['销售额']-->
<!--            },-->
<!--            //横轴-->
<!--            xAxis: {-->
<!--                data: data.xAxisList-->
<!--            },-->
<!--            //纵轴-->
<!--            yAxis: {},-->
<!--            //系列列表。每个系列通过type决定自己的图表类型-->
<!--            series: [-->
<!--                {-->
<!--                    name: '销售额',-->
<!--                    //折线图-->
<!--                    type: 'line',-->
<!--                    data: dataToFixed(data)//处理小数点数据-->
<!--                }-->
<!--            ]-->
<!--        };-->
<!--        //使用刚指定的配置项和数据显示图表-->
<!--        myChart.setOption(option);-->
<!--    }-->
<!--    //buttion调用的方法-->
<!--    function getData() {-->
<!--        var start = $('#start').val();-->
<!--        var end = $('#end').val();-->
<!--        //异步请求-->
<!--        $.post(-->
<!--            "../ordersale/guFindEchartsData.do",//访问地址-->
<!--            {start: start, end: end},//携带的参数-->
<!--            function (data) {-->
<!--                generateChart(data);-->
<!--            },-->
<!--            "json"-->
<!--        );-->
<!--    }-->
<!--</script>-->


<!--<div id="main" style="width: 600px;height:400px;"></div>-->

<!--<script type="text/javascript">-->
<!--    //ajax异步请求获取后台动态数据-->
<!--    $.ajax({-->
<!--        url:"login.do",//要请求的服务器url-->
<!--        async:true,   //是否为异步请求-->
<!--        cache:false,  //是否缓存结果-->
<!--        type:"POST", //请求方式为POST-->
<!--        dataType:"json",   //服务器返回的数据是什么类型-->
<!--        success:function(result){  //这个方法会在服务器执行成功是被调用 ，参数result就是服务器返回的值(现在是json类型)-->
<!--            if(result){-->
<!--                myChart.setOption({        //给echarts图标赋值-->
<!--                    xAxis: {-->
<!--                        data: result.xAxis-->
<!--                    },-->
<!--                    series: [{-->
<!--                        data: result.series-->
<!--                    }]-->
<!--                });-->
<!--            }else{-->
<!--                alert(2)-->
<!--            }-->
<!--        }-->
<!--    })-->


<!--    // 基于准备好的dom，初始化echarts实例-->
<!--    var myChart = echarts.init(document.getElementById('main'));-->

<!--    // 指定图表的配置项和数据-->
<!--    var option = {-->
<!--        title: {-->
<!--            text: 'java+ECharts实现动态图表'-->
<!--        },-->
<!--        tooltip: {},-->
<!--        legend: {-->
<!--            data:['销量']-->
<!--        },-->
<!--        xAxis: {-->
<!--            data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]-->
<!--        },-->
<!--        yAxis: {},-->
<!--        series: [{-->
<!--            name: '销量',-->
<!--            type: 'bar',-->
<!--            data: [5, 20, 36, 10, 10, 20]-->
<!--        }]-->
<!--    };-->

<!--    // 使用刚指定的配置项和数据显示图表。-->
<!--    myChart.setOption(option);-->

<!--</script>-->

<!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
<!--<div id="main" style="width: 600px;height:400px;"></div>-->
<!--<input type="hidden" th:value="${e.xaxis}" id="skirt"/>-->
<!--<input type="hidden" th:value="${e.DATA1}" id="nums"/>-->
<!--<input type="hidden" th:value="${e.DATA2}" id="nums1"/>-->
<!--<input type="hidden" th:value="${e.DATA3}" id="nums2"/>-->


<!--<script type="text/javascript">-->
<!--    // 基于准备好的dom，初始化echarts实例-->
<!--    var myChart = echarts.init(document.getElementById('main'));-->

<!--    var skirt=$("#skirt").val();-->
<!--    var nums=$("#nums").val();-->
<!--    var nums1=$("#nums1").val();-->
<!--    var nums2=$("#nums2").val();-->
<!--    //升级版-->
<!--    // var skirt="[[${skirt}]]";-->
<!--    // var nums="[[${nums}]]";-->
<!--    // 指定图表的配置项和数据-->
<!--    var option = {-->
<!--        title: {-->
<!--            text: '供应商排行分析'-->
<!--        },-->
<!--        tooltip: {},-->
<!--        legend: {-->
<!--            data:['销量']-->
<!--        },-->
<!--        xAxis: {-->
<!--            data: [skirt,skirt,skirt]-->
<!--        },-->
<!--        yAxis: {},-->
<!--        series: [{-->
<!--            name: '销量',-->
<!--            type: 'bar',-->
<!--            data: [nums,nums1,nums2]-->
<!--        }]-->
<!--    };-->

<!--    // 使用刚指定的配置项和数据显示图表。-->
<!--    myChart.setOption(option);-->
<!--</script>-->
